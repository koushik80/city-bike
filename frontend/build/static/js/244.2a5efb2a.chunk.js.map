{"version":3,"file":"static/js/244.2a5efb2a.chunk.js","mappings":"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","sources":["components/navigation/Navigation.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\nimport './Navigation.scss';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\n\nmapboxgl.accessToken = process.env.REACT_APP_ACCESS_TOKEN;\n\n\nconst Navigation = () => {\n  const mapContainer = useRef(null);  //MapBox Container\n  const map = useRef(null);  //MapBox rendered element\n  const [lng, setLng] = useState(24.94); //Longitude\n  const [lat, setLat] = useState(60.19); //Latitude\n  const [zoom, setZoom] = useState(9); //Zoom Level\n  const start = [lng, lat]; //Start Point\n\n  useEffect(() => {\n    if (map.current) return; // initialize map only once\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/streets-v12',\n      center: [lng, lat],\n      zoom: zoom\n    });\n    map.current.on('move', () => { // wait for map to initialize\n      setLng(map.current.getCenter().lng.toFixed(4));\n      setLat(map.current.getCenter().lat.toFixed(4));\n      setZoom(map.current.getZoom().toFixed(2));\n    });\n    route();\n    // eslint-disable-next-line\n  }, [map.current]);\n\n  const locate = () => {\n    map.current.addControl(\n      new mapboxgl.GeolocateControl({\n        positionOptions: {\n          enableHighAccuracy: true,\n        },\n        // When active the map will receive updates to the device's location as it changes.\n        trackUserLocation: true,\n        style: {\n          right: 10,\n          top: 10\n        },\n        position: 'bottom-left',\n        // Draw an arrow next to the location dot to indicate which direction the device is heading.\n        showUserHeading: true\n      })\n    );\n  }\n\n  const route = () => {\n    locate();\n    map.current.on('load', () => {\n      // make an initial directions request that\n      // starts and ends at the same location\n      // getRoute(start);\n\n      // Add starting point to the map\n      map.current.addLayer({\n        id: 'point',\n        type: 'circle',\n        source: {\n          type: 'geojson',\n          data: {\n            type: 'FeatureCollection',\n            features: [\n              {\n                type: 'Feature',\n                properties: {},\n                geometry: {\n                  type: 'Point',\n                  coordinates: start\n                }\n              }\n            ]\n          }\n        },\n        paint: {\n          'circle-radius': 10,\n          'circle-color': '#3887be'\n        }\n      });\n\n      map.current.on('click', (event) => {\n        const coords = Object.keys(event.lngLat).map((key) => event.lngLat[key]);\n        const end = {\n          type: 'FeatureCollection',\n          features: [\n            {\n              type: 'Feature',\n              properties: {},\n              geometry: {\n                type: 'Point',\n                coordinates: coords\n              }\n            }\n          ]\n        };\n        if (map.current.getLayer('end')) {\n          map.current.getSource('end').setData(end);\n        } else {\n          map.current.addLayer({\n            id: 'end',\n            type: 'circle',\n            source: {\n              type: 'geojson',\n              data: {\n                type: 'FeatureCollection',\n                features: [\n                  {\n                    type: 'Feature',\n                    properties: {},\n                    geometry: {\n                      type: 'Point',\n                      coordinates: coords\n                    }\n                  }\n                ]\n              }\n            },\n            paint: {\n              'circle-radius': 10,\n              'circle-color': '#f30'\n            }\n          });\n        }\n        getRoute(coords);\n      });\n    });\n  }\n\n  async function getRoute(end) {\n    const query = await fetch(\n      `https://api.mapbox.com/directions/v5/mapbox/cycling/${start[0]},${start[1]};${end[0]},${end[1]}?steps=true&geometries=geojson&access_token=${mapboxgl.accessToken}`,\n      { method: 'GET' }\n    );\n    const json = await query.json();\n    const data = json.routes[0];\n    const route = data.geometry.coordinates;\n    const geojson = {\n      type: 'Feature',\n      properties: {},\n      geometry: {\n        type: 'LineString',\n        coordinates: route\n      }\n    };\n    // if the route already exists on the map, reset it using setData\n    if (map.current.getSource('route')) {\n      map.current.getSource('route').setData(geojson);\n    }\n    // otherwise, make a new request\n    else {\n      map.current.addLayer({\n        id: 'route',\n        type: 'line',\n        source: {\n          type: 'geojson',\n          data: geojson\n        },\n        layout: {\n          'line-join': 'round',\n          'line-cap': 'round'\n        },\n        paint: {\n          'line-color': '#3887be',\n          'line-width': 5,\n          'line-opacity': 0.75\n        }\n      });\n    }\n    // get the sidebar and add the instructions\n    const instructions = document.getElementById('instructions');\n    const steps = data.legs[0].steps;\n\n    let tripInstructions = '';\n    for (const step of steps) {\n      tripInstructions += `<li>${step.maneuver.instruction}</li>`;\n    }\n    instructions.innerHTML = `<p><strong>Trip duration: ${Math.floor(\n      data.duration / 60\n    )} min ðŸš´ </strong></p><ol>${tripInstructions}</ol>`;\n  }\n\n  return (\n    <>\n      <div ref={mapContainer} className=\"d-container\" />\n      <div id=\"instructions\" className=\"instructions\"></div>\n    </>\n  );\n};\n\nexport default Navigation;","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}"],"names":["mapboxgl","process","mapContainer","useRef","map","useState","lng","setLng","lat","setLat","zoom","setZoom","start","useEffect","current","container","style","center","on","getCenter","toFixed","getZoom","route","addControl","positionOptions","enableHighAccuracy","trackUserLocation","right","top","position","showUserHeading","addLayer","id","type","source","data","features","properties","geometry","coordinates","paint","event","coords","Object","keys","lngLat","key","end","getLayer","getSource","setData","getRoute","fetch","method","query","json","routes","geojson","layout","instructions","document","getElementById","steps","legs","tripInstructions","step","maneuver","instruction","innerHTML","Math","floor","duration","ref","className","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","call","next","_e2"],"sourceRoot":""}